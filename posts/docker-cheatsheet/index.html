<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Docker Cheat sheet, a general cheat sheet for all use case | Derry Dev Blog</title><meta name=keywords content="linux,command,docker,docker compose,development,container,network,java,web,server"><meta name=description content="Docker general Help - docker COMMAND --help This is for each command&rsquo;s detail
For example, docker run --help
TL;DR docker run <image> - to initialize a new container docker start <container_name> start running the &ldquo;stopped&rdquo; container docker stop <container_name> docker run - Initialize a container Run a command in a new container
Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...]
Basic form to initialize a container, or to run a command"><meta name=author content="Derry"><link rel=canonical href=https://derry.club/posts/docker-cheatsheet/><meta name=google-site-verification content="iJvPQs-xBGKU8ONW66wz5SbyXQnTI_-PGvX0PHtzNis"><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href="https://github.com/derrykid/blogs-repo/blob/main/img/logo.png?raw=true"><link rel=icon type=image/png sizes=16x16 href=https://derry.club/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://derry.club/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://derry.club/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://derry.club/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-PRN40V7XPE"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PRN40V7XPE",{anonymize_ip:!1})}</script><meta property="og:title" content="Docker Cheat sheet, a general cheat sheet for all use case"><meta property="og:description" content="Docker general Help - docker COMMAND --help This is for each command&rsquo;s detail
For example, docker run --help
TL;DR docker run <image> - to initialize a new container docker start <container_name> start running the &ldquo;stopped&rdquo; container docker stop <container_name> docker run - Initialize a container Run a command in a new container
Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...]
Basic form to initialize a container, or to run a command"><meta property="og:type" content="article"><meta property="og:url" content="https://derry.club/posts/docker-cheatsheet/"><meta property="og:image" content="https://derry.club/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-08T17:32:01+00:00"><meta property="article:modified_time" content="2023-01-08T17:32:01+00:00"><meta property="og:site_name" content="Derry Dev Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://derry.club/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Docker Cheat sheet, a general cheat sheet for all use case"><meta name=twitter:description content="Docker general Help - docker COMMAND --help This is for each command&rsquo;s detail
For example, docker run --help
TL;DR docker run <image> - to initialize a new container docker start <container_name> start running the &ldquo;stopped&rdquo; container docker stop <container_name> docker run - Initialize a container Run a command in a new container
Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...]
Basic form to initialize a container, or to run a command"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://derry.club/posts/"},{"@type":"ListItem","position":2,"name":"Docker Cheat sheet, a general cheat sheet for all use case","item":"https://derry.club/posts/docker-cheatsheet/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Docker Cheat sheet, a general cheat sheet for all use case","name":"Docker Cheat sheet, a general cheat sheet for all use case","description":"Docker general Help - docker COMMAND --help This is for each command\u0026rsquo;s detail\nFor example, docker run --help\nTL;DR docker run \u0026lt;image\u0026gt; - to initialize a new container docker start \u0026lt;container_name\u0026gt; start running the \u0026ldquo;stopped\u0026rdquo; container docker stop \u0026lt;container_name\u0026gt; docker run - Initialize a container Run a command in a new container\nUsage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...]\nBasic form to initialize a container, or to run a command","keywords":["linux","command","docker","docker compose","development","container","network","java","web","server"],"articleBody":"Docker general Help - docker COMMAND --help This is for each command’s detail\nFor example, docker run --help\nTL;DR docker run - to initialize a new container docker start start running the “stopped” container docker stop docker run - Initialize a container Run a command in a new container\nUsage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...]\nBasic form to initialize a container, or to run a command\n$ docker run \u003c-----COMMAND-------\u003e | | v v $ docker run alpine /bin/echo 'Hello World' Hello World $ Initialize a alpine Linux and use the command prompt For example, this initialize a alpine Linux.\n$ docker run alpine $ # nothing here But this container stopped right after it’s initialized. There’s no command prompt. To get it running and use the command prompt:\n$ doccker run --interactive --tty alpine # shorthand $ docker run -it alpine You might’ve created 2 containers. If you initialize the first container and run another docker run command.\nUse docker run -i -t alpine\nIf run docker run -t alpine, there might be error, e.g. can’t exit. Add -i will solve the issue.\n# only -i echo hi hi # only -t $ exit # can't exit detach (to daemon) -d is to let it running in daemon, not mean detach. When docker run , you’re using and reading the output from the console. This makes us unavailable to do anything else. We can use detach to make it run in the background.\ndocker run -d someName/simple-webapp set environment variable docker run -e VARIABLE=MY_VAR docker run -p HOST:CONTAINERport Usage: docker run -p [external]:[Internal]\nExample, this will open in http://localhost:8181 to container port 80)\ndocker run --name mynginx -p 8181:80 -d nginx docker start - Restart a container Start one or more stopped containers\nUsage: docker start [OPTIONS] CONTAINER [CONTAINER...]\ndocker start -i Attach to a running container - docker attach Usage: docker attach [OPTIONS] CONTAINER\nWhen we want to attach:\ndocker attach PORT mapping Docker host address locally: http://192.168.1.5\ndocker run derry/webApp The running port might be 5000\nYou can map the port by the command. Many containers can run in different port:\ndocker run -p 80:5000 derry/webApp docker run -p 1000:3306 mysql docker run --name to set custom name using --name flag\ndocker run -dp 8080:8080 --name custom_naming java-docker Map port 300 of the host to port 80 in the container. So in practice, you open your browser at http://localhost:300/ to access to docker container. And the container inside is open port at 80.\nrun a specific version by tag By default, the docker runs the latest(also a tag) ver.\nIf you’d run old one:\ndocker run redis: Environment variables Use -e to export\ndocker run -e APP_COLOR=blue Use inspect and in Config section, it shows the env variables.\nimages - to see all images available locally docker images build and tag an image To build your image, run docker build SOURCE_LOCATION\ndocker build --tag java-docker . Optionally, use the --tag to tag an image. It’s in format of name:tag. If do not pass a tag, it uses latest as default.\nAfter run docker build --tag java-docker . , we list our images by docker images\ndocker images REPOSITORY TAG IMAGE ID CREATED SIZE java-docker latest b78dea468a3f 3 minutes ago 559MB remove the images - docker rmi The image files in system might take up MBs\ndocker rmi Tag image after build Alternatively, you can tag it after build\ndocker tag NAME:TAG NAME:NEW_TAG\ndocker tag java-docker:latest java-docker:v22_3 And list the images:\nREPOSITORY TAG IMAGE ID CREATED SIZE java-docker latest b78dea468a3f 5 minutes ago 559MB java-docker v22_3 b78dea468a3f 5 minutes ago 559MB remove the image by rmi docker rmi :\n$ docker rmi java-docker:v22_3 Untagged: java-docker:v22_3 // output message pull - download an image docker pull Create your own image Create a Dockerfile It’s consists of FROM Ubuntu // it's either a base OS or another image RUN apt-get update RUN apt-get install python RUN pip install flask // more commands COPY . /opt/source-code ENTRYPOINT FLASK_APP=/opt/source-code/app.py flask run Once have your Dockerfile, run command docker build --file Dockerfile -t , e.g. docker build --file Dockerfile -t derry:myImage to build your image. It will create an image locally. If you want to push, use docker push docker process docker ps - list running containers Usage: docker ps [OPTIONS]\nList all running containers. Example:\n[derry@Man-x1 spring-petclinic]$ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES c79d572de49a java-docker \"./mvnw spring-boot:…\" 5 seconds ago Up 4 seconds 0.0.0.0:300-\u003e8080/tcp, :::300-\u003e8080/tcp gifted_wiles docker ps -a to list all containers either running or stop docker ps -a docker stop - stop a container The container or we say the process is stopped. However, it’s not removed. You can restart it by docker restart docker stop docker stop // example docker stop trusting_beaver docker restart - restart a stopped container There might be few containers that are stopped but not removed:\n[derry@Man-x1 ~]$ docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES a5bd20f08edc java-docker \"./mvnw spring-boot:…\" 3 minutes ago Up 3 minutes 0.0.0.0:8080-\u003e8080/tcp, :::8080-\u003e8080/tcp nervous_snyder ab55379adc06 java-docker \"./mvnw spring-boot:…\" 5 minutes ago Exited (143) 3 minutes ago naughty_volhard 5820d5e693e2 java-docker \"./mvnw spring-boot:…\" 7 minutes ago Exited (143) 5 minutes ago confident_feynman c79d572de49a java-docker \"./mvnw spring-boot:…\" 10 minutes ago Exited (143) 7 minutes ago gifted_wiles 2a0736d59236 java-docker \"./mvnw spring-boot:…\" 20 minutes ago Exited (1) 11 minutes ago quirky_dijkstra 834f35b8fe81 docker/getting-started \"/docker-entrypoint.…\" 2 hours ago Exited (0) 2 hours ago clever_spence 7fbda5eef9b4 docker/getting-started \"/docker-entrypoint.…\" 2 hours ago Created relaxed_poincar restart it simply by:\ndocker restart remove a container - docker rm to remove and free the memory\ndocker rm execute a command on running container docker exec docker exec command\n// example docker exec cat /etc/hosts // open the terminal of container, i - interactive, t - tty docker exec -it bash STDIN - when needs input for the task If we write a script that asks for user name and prints out the name:\n// run the script Welcome! Enter your name: Derry // output Hello Derry! When we run the docker image, it won’t ask for our input\ndocker run // output Hello ! We have to add -i flag to make it interactive\ndocker run -i However, it won’t show the terminal prompt, we have to add -t flag to add a terminal\ndocker run -it supervise the container container info in json docker inspect docker inspect Output sample:\n[ { \"Id\": \"952899189ac4ab6fab4ddcc057884a0dde4665c338f01326e438c5e1039686ca\", \"Created\": \"2022-12-28T15:12:07.480095938Z\", \"Path\": \"/bin/sh\", \"Args\": [], \"State\": { \"Status\": \"running\", \"Running\": true, \"Paused\": false, \"Restarting\": false, \"OOMKilled\": false, \"Dead\": false, \"Pid\": 267801, \"ExitCode\": 0, \"Error\": \"\", \"StartedAt\": \"2022-12-28T15:12:08.008346283Z\", \"FinishedAt\": \"0001-01-01T00:00:00Z\" }, \"Image\": \"sha256:d7d3d98c851ff3a95dbcb70ce09d186c9aaf7e25d48d55c0f99aae360aecfd53\", log docker logs -f flag for following docker logs -f my-container history Sees the history of a specify docker Dockerfile layer\ndocker history volume - data persistent Create volume by docker run -v If you want data persistent even after you destroy the image/container, use volume\ndocker run -v : docker run -v /home/derry/playground:/storage alpine This will result in creating a directory in container root: /storage. It links to host directory /home/derry/playground. You can find the files from host in container as well.\nSearch for volume location docker run -v /home/derry/playground:/storage alpine This will create a directory in container root named storage. To find the directory in host OS, use this command:\ndocker inspect -f '{{.Mounts}}' This will give a path to the volume directory. Usually at /var/lib/docker/volumes/\nCreate by docker volume Usage: docker volume COMMAND\ndocker volume create data_volume docker run -v data_volume: Prefer style instead of -v\ndocker run --mount type=bind,source=/data/mysql,target= By Dockerfile FROM ubuntu RUN mkdir /myvol RUN echo \"hello world\" \u003e /myvol/greeting VOLUME /myvol This Dockerfile once build, it will use ubuntu image and create a directory at root/myvol. In the /myvol, create a file greeting with hello world text. The VOLUME /myvol means the directory in container will persist. To find where the data is saved, go to host OS and find it by:\ndocker inspect -f '{{.Mounts}}' Dockerfile Blueprint to create an image. That’s it.\nA Dockerfile is a text document that contains the instructions to assemble a Docker image. When we tell Docker to build our image by executing the docker build command, Docker reads these instructions, executes them, and creates a Docker image as a result.\nFROM - set base image RUN - execute the command in building image process. ENV - set environment variable WORKDIR - set working directory, like cd. If the directory doesn’t exist, it will be created. VOLUME - create mount-point for a volume CMD - set executable for container COPY - copy file from host to guest location COPY source destination EXPOSE - specify the container port Create a Dockerfile At root of your project, create a file named Dockerfile.\n# syntax=docker/dockerfile:1 FROM eclipse-temurin:17-jdk-jammy WORKDIR /app COPY .mvn/ .mvn COPY mvnw pom.xml ./ RUN ./mvnw dependency:resolve COPY src ./src CMD [\"./mvnw\", \"spring-boot:run\"] Build the image docker build . --tag Dockerfile Commands ENTRYPOINT It specifies a command that will always be executed when the container starts. It works like Linux alias. Always prefix to your input.\nFor example, when docker run -it ubuntu, it starts the ubuntu and gives you the shell prompt. Why it gives you the shell prompt? Because it specifies the ENTRYPOINT [\"/bin/bash\"].\nThe exec form, passing json array, is the preferred form:\nENTRYPOINT [\"executable\", \"param1\", \"param2\"] Example For example, this image always ls directory or file. Let’s name it listing_container\nFROM alpine ENTRYPOINT [\"/bin/ls\", \"-la\"] Let’s initialize it, and pass argument to it. Remember the docker run:\nUsage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...]\n$ docker run -i -t listing_container /srv # this will be combined to command: \"/bin/ls -la /srv\" # like you run the following command in the container $ ls -la /srv total 16 drwxr-xr-x 4 root root 4096 11月 25 2021 . drwxr-xr-x 17 root root 4096 11月 7 10:14 .. dr-xr-xr-x 2 root ftp 4096 10月 16 2021 ftp drwxr-xr-x 12 derry derry 4096 7月 16 14:55 http So it’s shorthand! You can build some containers for specific uses.\nIf you want to change the default behaviour:\n# this will run \"cat /etc/passwd\" $ docker run --it --entrypoint=\"/bin/cat\" ubuntu /etc/passwd CMD There are 3 forms but this form, pass json array, is preferred: CMD [\"exectable\", \"param1\", \"param2\"]\nCMD [\"java\", \"-jar\", \"app.jar\"] Work as default behaviour A Dockerfile:\nFROM alpine CMD [\"/bin/ping\", \"www.google.com\"] docker build . -t ping_machine docker run -it ping_machine # you get: PING www.google.com(...omit...) 56 data bytes 64 bytes from (...omit...) icmp_seq=1 ttl=119 time=22.3 ms 64 bytes from (...omit...) icmp_seq=1 ttl=119 time=20.3 ms When run this container, it will start to ping the www.google.com.\nWork as arguments for ENTRYPOINT It specifies arguments that will be fed to the ENTRYPOINT\nFROM alpine ENTRYPOINT [\"/bin/ping\"] CMD [\"localhost\"] Running the image, you will ping the localhost\ndocker build . --tag ping_container docker run -it ping_container # you get PING localhost (127.0.0.1): 48 data bytes 56 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.096 ms 56 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.088 ms 56 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.088 ms You can change the this default image behaviour by:\nIt is the argument passed to replace [\"localhost\"] vvvvvv docker run -it ping_container www.google.com ","wordCount":"1901","inLanguage":"en","datePublished":"2023-01-08T17:32:01Z","dateModified":"2023-01-08T17:32:01Z","author":{"@type":"Person","name":"Derry"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://derry.club/posts/docker-cheatsheet/"},"publisher":{"@type":"Organization","name":"Derry Dev Blog","logo":{"@type":"ImageObject","url":"https://github.com/derrykid/blogs-repo/blob/main/img/logo.png?raw=true"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://derry.club/ accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://derry.club/categories/ title=categories><span>categories</span></a></li><li><a href=https://derry.club/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://derry.club/>Home</a>&nbsp;»&nbsp;<a href=https://derry.club/posts/>Posts</a></div><h1 class=post-title>Docker Cheat sheet, a general cheat sheet for all use case</h1><div class=post-meta><span title='2023-01-08 17:32:01 +0000 UTC'>January 8, 2023</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Derry&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/docker-cheatsheet.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#docker-general aria-label="Docker general">Docker general</a><ul><li><a href=#help---docker-command---help aria-label="Help - docker COMMAND --help">Help - <code>docker COMMAND --help</code></a></li><li><a href=#tldr aria-label=TL;DR>TL;DR</a></li><li><a href=#docker-run---initialize-a-container aria-label="docker run - Initialize a container"><code>docker run</code> - Initialize a container</a><ul><li><a href=#initialize-a-alpine-linux-and-use-the-command-prompt aria-label="Initialize a alpine Linux and use the command prompt">Initialize a alpine Linux and use the command prompt</a></li><li><a href=#detach-to-daemon aria-label="detach (to daemon)">detach (to daemon)</a></li><li><a href=#set-environment-variable aria-label="set environment variable">set environment variable</a></li><li><a href=#docker-run--p-hostcontainerport aria-label="docker run -p HOST:CONTAINERport"><code>docker run -p HOST:CONTAINER</code>port</a></li></ul></li><li><a href=#docker-start---restart-a-container aria-label="docker start - Restart a container"><code>docker start</code> - Restart a container</a></li><li><a href=#attach-to-a-running-container---docker-attach aria-label="Attach to a running container - docker attach">Attach to a running container - <code>docker attach</code></a><ul><li><a href=#port-mapping aria-label="PORT mapping">PORT mapping</a></li><li><a href=#docker-run---name-to-set-custom-name aria-label="docker run --name to set custom name"><code>docker run --name</code> to set custom name</a></li><li><a href=#run-a-specific-version-by-tag aria-label="run a specific version by tag">run a specific version by tag</a></li></ul></li><li><a href=#environment-variables aria-label="Environment variables">Environment variables</a></li><li><a href=#images---to-see-all-images-available-locally aria-label="images - to see all images available locally">images - to see all images available locally</a><ul><li><a href=#build-and-tag-an-image aria-label="build and tag an image">build and tag an image</a></li><li><a href=#remove-the-images---docker-rmi aria-label="remove the images - docker rmi">remove the images - <code>docker rmi</code></a></li><li><a href=#tag-image-after-build aria-label="Tag image after build">Tag image after build</a></li><li><a href=#remove-the-image-by-rmi aria-label="remove the image by rmi">remove the image by <code>rmi</code></a></li><li><a href=#pull---download-an-image aria-label="pull - download an image">pull - download an image</a></li><li><a href=#create-your-own-image aria-label="Create your own image">Create your own image</a></li></ul></li><li><a href=#docker-process aria-label="docker process">docker process</a><ul><li><a href=#docker-ps---list-running-containers aria-label="docker ps - list running containers"><code>docker ps</code> - list running containers</a><ul><li><a href=#docker-ps--a-to-list-all-containers-either-running-or-stop aria-label="docker ps -a to list all containers either running or stop"><code>docker ps -a</code> to list all containers either running or stop</a></li></ul></li><li><a href=#docker-stop-name---stop-a-container aria-label="docker stop &amp;lt;name&amp;gt; - stop a container"><code>docker stop &lt;name></code> - stop a container</a></li><li><a href=#docker-restart-name---restart-a-stopped-container aria-label="docker restart &amp;lt;name&amp;gt; - restart a stopped container"><code>docker restart &lt;name></code> - restart a stopped container</a></li><li><a href=#remove-a-container---docker-rm aria-label="remove a container - docker rm">remove a container - <code>docker rm</code></a></li></ul></li><li><a href=#execute-a-command-on-running-container-docker-exec aria-label="execute a command on running container docker exec">execute a command on running container <code>docker exec</code></a><ul><li><a href=#stdin---when-needs-input-for-the-task aria-label="STDIN - when needs input for the task">STDIN - when needs input for the task</a></li></ul></li><li><a href=#supervise-the-container aria-label="supervise the container">supervise the container</a><ul><li><a href=#container-info-in-json-docker-inspect aria-label="container info in json docker inspect">container info in json <code>docker inspect</code></a></li><li><a href=#log aria-label=log>log</a></li><li><a href=#history aria-label=history>history</a></li></ul></li></ul></li><li><a href=#volume---data-persistent aria-label="volume - data persistent">volume - data persistent</a><ul><li><a href=#create-volume-by-docker-run--v aria-label="Create volume by docker run -v">Create volume by <code>docker run -v</code></a></li><li><a href=#search-for-volume-location aria-label="Search for volume location">Search for volume location</a><ul><li><a href=#create-by-docker-volume aria-label="Create by docker volume">Create by <code>docker volume</code></a></li><li><a href=#by-dockerfile aria-label="By Dockerfile">By <code>Dockerfile</code></a></li></ul></li></ul></li><li><a href=#dockerfile aria-label=Dockerfile>Dockerfile</a><ul><li><a href=#create-a-dockerfile aria-label="Create a Dockerfile">Create a Dockerfile</a></li><li><a href=#build-the-image aria-label="Build the image">Build the image</a><ul><li><a href=#dockerfile-commands aria-label="Dockerfile Commands">Dockerfile Commands</a><ul><li><a href=#entrypoint aria-label=ENTRYPOINT><code>ENTRYPOINT</code></a><ul><li><a href=#example aria-label=Example>Example</a></li></ul></li><li><a href=#cmd aria-label=CMD><code>CMD</code></a><ul><li><a href=#work-as-default-behaviour aria-label="Work as default behaviour">Work as default behaviour</a></li><li><a href=#work-as-arguments-for-entrypoint aria-label="Work as arguments for ENTRYPOINT">Work as arguments for ENTRYPOINT</a></li></ul></li></ul></li></ul></li></ul></li></ul></div></details></div><div class=post-content><h1 id=docker-general>Docker general<a hidden class=anchor aria-hidden=true href=#docker-general>#</a></h1><h2 id=help---docker-command---help>Help - <code>docker COMMAND --help</code><a hidden class=anchor aria-hidden=true href=#help---docker-command---help>#</a></h2><p>This is for each command&rsquo;s detail</p><p>For example, <code>docker run --help</code></p><h2 id=tldr>TL;DR<a hidden class=anchor aria-hidden=true href=#tldr>#</a></h2><ul><li><code>docker run &lt;image></code> - to initialize a new container</li><li><code>docker start &lt;container_name></code> start running the &ldquo;stopped&rdquo; container</li><li><code>docker stop &lt;container_name></code></li></ul><h2 id=docker-run---initialize-a-container><code>docker run</code> - Initialize a container<a hidden class=anchor aria-hidden=true href=#docker-run---initialize-a-container>#</a></h2><blockquote><p>Run a command in a new container</p></blockquote><p><code>Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</code></p><p>Basic form to initialize a container, or to run a command</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ docker run &lt;imageName&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>              &lt;image&gt;  &lt;-----COMMAND-------&gt;
</span></span><span class=line><span class=cl>                <span class=p>|</span>         <span class=p>|</span>
</span></span><span class=line><span class=cl>                v         v
</span></span><span class=line><span class=cl>$ docker run alpine /bin/echo <span class=s1>&#39;Hello World&#39;</span>
</span></span><span class=line><span class=cl>Hello World
</span></span><span class=line><span class=cl>$
</span></span></code></pre></div><h3 id=initialize-a-alpine-linux-and-use-the-command-prompt>Initialize a alpine Linux and use the command prompt<a hidden class=anchor aria-hidden=true href=#initialize-a-alpine-linux-and-use-the-command-prompt>#</a></h3><p>For example, this initialize a <em>alpine Linux.</em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ docker run alpine
</span></span><span class=line><span class=cl>$   <span class=c1># nothing here</span>
</span></span></code></pre></div><p>But this container stopped right after it&rsquo;s initialized. There&rsquo;s no command prompt. To get it running and use the command prompt:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ doccker run --interactive --tty alpine
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># shorthand</span>
</span></span><span class=line><span class=cl>$ docker run -it alpine
</span></span></code></pre></div><p>You might&rsquo;ve created 2 containers. If you initialize the first container and run another <code>docker run</code> command.</p><hr><p>Use <code>docker run -i -t alpine</code></p><p>If run <code>docker run -t alpine</code>, there might be error, e.g. can&rsquo;t exit. Add <code>-i</code> will solve the issue.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># only -i</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> hi
</span></span><span class=line><span class=cl>hi
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># only -t</span>
</span></span><span class=line><span class=cl>$ <span class=nb>exit</span>       <span class=c1># can&#39;t exit</span>
</span></span></code></pre></div><h3 id=detach-to-daemon>detach (to daemon)<a hidden class=anchor aria-hidden=true href=#detach-to-daemon>#</a></h3><ul><li><code>-d</code> is to let it running in daemon, <strong>not mean detach.</strong></li></ul><p>When <code>docker run &lt;image></code>, you&rsquo;re using and reading the output from the console. This makes us unavailable to do anything else. We can use detach to make it run in the background.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -d someName/simple-webapp
</span></span></code></pre></div><h3 id=set-environment-variable>set environment variable<a hidden class=anchor aria-hidden=true href=#set-environment-variable>#</a></h3><p><code>docker run -e VARIABLE=MY_VAR &lt;imageName></code></p><h3 id=docker-run--p-hostcontainerport><code>docker run -p HOST:CONTAINER</code>port<a hidden class=anchor aria-hidden=true href=#docker-run--p-hostcontainerport>#</a></h3><p><code>Usage: docker run -p [external]:[Internal]</code></p><p>Example, this will open in http://localhost:8181 to container port 80)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run --name mynginx -p 8181:80 -d nginx
</span></span></code></pre></div><h2 id=docker-start---restart-a-container><code>docker start</code> - Restart a container<a hidden class=anchor aria-hidden=true href=#docker-start---restart-a-container>#</a></h2><blockquote><p>Start one or more stopped containers</p></blockquote><p><code>Usage: docker start [OPTIONS] CONTAINER [CONTAINER...]</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker start -i &lt;container_name&gt;
</span></span></code></pre></div><h2 id=attach-to-a-running-container---docker-attach>Attach to a running container - <code>docker attach</code><a hidden class=anchor aria-hidden=true href=#attach-to-a-running-container---docker-attach>#</a></h2><p><code>Usage: docker attach [OPTIONS] CONTAINER</code></p><p>When we want to attach:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker attach &lt;ID&gt;
</span></span></code></pre></div><h3 id=port-mapping>PORT mapping<a hidden class=anchor aria-hidden=true href=#port-mapping>#</a></h3><p>Docker host address locally: <code>http://192.168.1.5</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run derry/webApp
</span></span></code></pre></div><p>The running port might be <code>5000</code></p><p>You can map the port by the command. Many containers can run in different port:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -p 80:5000 derry/webApp
</span></span><span class=line><span class=cl>docker run -p 1000:3306 mysql
</span></span></code></pre></div><h3 id=docker-run---name-to-set-custom-name><code>docker run --name</code> to set custom name<a hidden class=anchor aria-hidden=true href=#docker-run---name-to-set-custom-name>#</a></h3><p>using <code>--name</code> flag</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -dp 8080:8080 --name custom_naming java-docker
</span></span></code></pre></div><p>Map port 300 of the host to port 80 in the container. So in practice, you open your browser at <code>http://localhost:300/</code> to access to docker container. And the container inside is open port at <code>80</code>.</p><h3 id=run-a-specific-version-by-tag>run a specific version by tag<a hidden class=anchor aria-hidden=true href=#run-a-specific-version-by-tag>#</a></h3><p>By default, the docker runs the latest(also a tag) ver.</p><p>If you&rsquo;d run old one:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run redis:&lt;tagVersion&gt;
</span></span></code></pre></div><h2 id=environment-variables>Environment variables<a hidden class=anchor aria-hidden=true href=#environment-variables>#</a></h2><p>Use <code>-e</code> to export</p><pre tabindex=0><code>docker run -e APP_COLOR=blue &lt;imageName&gt;
</code></pre><p>Use <code>inspect</code> and in Config section, it shows the env variables.</p><h2 id=images---to-see-all-images-available-locally>images - to see all images available locally<a hidden class=anchor aria-hidden=true href=#images---to-see-all-images-available-locally>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker images
</span></span></code></pre></div><h3 id=build-and-tag-an-image>build and tag an image<a hidden class=anchor aria-hidden=true href=#build-and-tag-an-image>#</a></h3><p>To build your image, run <code>docker build SOURCE_LOCATION</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker build --tag java-docker .
</span></span></code></pre></div><p>Optionally, use the <code>--tag</code> to tag an image. It&rsquo;s in format of <code>name:tag</code>. If do not pass a tag, it uses <strong>latest</strong> as default.</p><p>After run <code>docker build --tag java-docker . </code>, we list our images by <code>docker images</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker images
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>REPOSITORY               TAG       IMAGE ID       CREATED         SIZE
</span></span><span class=line><span class=cl>java-docker              latest    b78dea468a3f   <span class=m>3</span> minutes ago   559MB
</span></span></code></pre></div><h3 id=remove-the-images---docker-rmi>remove the images - <code>docker rmi</code><a hidden class=anchor aria-hidden=true href=#remove-the-images---docker-rmi>#</a></h3><p>The image files in system might take up MBs</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker rmi &lt;imageName&gt;
</span></span></code></pre></div><h3 id=tag-image-after-build>Tag image after build<a hidden class=anchor aria-hidden=true href=#tag-image-after-build>#</a></h3><p>Alternatively, you can tag it after build</p><p><code>docker tag NAME:TAG NAME:NEW_TAG</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker tag java-docker:latest java-docker:v22_3
</span></span></code></pre></div><p>And list the images:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>REPOSITORY               TAG       IMAGE ID       CREATED         SIZE
</span></span><span class=line><span class=cl>java-docker              latest    b78dea468a3f   <span class=m>5</span> minutes ago   559MB
</span></span><span class=line><span class=cl>java-docker              v22_3     b78dea468a3f   <span class=m>5</span> minutes ago   559MB
</span></span></code></pre></div><h3 id=remove-the-image-by-rmi>remove the image by <code>rmi</code><a hidden class=anchor aria-hidden=true href=#remove-the-image-by-rmi>#</a></h3><p><code>docker rmi &lt;name>:&lt;tag></code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ docker rmi java-docker:v22_3 
</span></span><span class=line><span class=cl>Untagged: java-docker:v22_3    // output message
</span></span></code></pre></div><h3 id=pull---download-an-image>pull - download an image<a hidden class=anchor aria-hidden=true href=#pull---download-an-image>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker pull &lt;imageName&gt;
</span></span></code></pre></div><h3 id=create-your-own-image>Create your own image<a hidden class=anchor aria-hidden=true href=#create-your-own-image>#</a></h3><p>Create a <code>Dockerfile</code>
It&rsquo;s consists of <code>&lt;INSTRUCTION> &lt;ARGUMENT></code></p><pre tabindex=0><code>FROM Ubuntu     // it&#39;s either a base OS or another image

RUN apt-get update
RUN apt-get install python

RUN pip install flask
// more commands

COPY . /opt/source-code

ENTRYPOINT FLASK_APP=/opt/source-code/app.py flask run
</code></pre><p>Once have your <code>Dockerfile</code>, run command <code>docker build --file Dockerfile -t &lt;imageName></code>, e.g. <code>docker build --file Dockerfile -t derry:myImage</code> to build your image. It will create an image locally. If you want to push, use <code>docker push &lt;imageName></code></p><h2 id=docker-process>docker process<a hidden class=anchor aria-hidden=true href=#docker-process>#</a></h2><h3 id=docker-ps---list-running-containers><code>docker ps</code> - list running containers<a hidden class=anchor aria-hidden=true href=#docker-ps---list-running-containers>#</a></h3><p><code>Usage: docker ps [OPTIONS]</code></p><p>List all running containers. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>derry@Man-x1 spring-petclinic<span class=o>]</span>$ docker ps
</span></span><span class=line><span class=cl>CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS             PORTS                                                  NAMES
</span></span><span class=line><span class=cl>c79d572de49a   java-docker    <span class=s2>&#34;./mvnw spring-boot:…&#34;</span>   <span class=m>5</span> seconds ago   Up <span class=m>4</span> seconds       0.0.0.0:300-&gt;8080/tcp, :::300-&gt;8080/tcp                gifted_wiles
</span></span></code></pre></div><h4 id=docker-ps--a-to-list-all-containers-either-running-or-stop><code>docker ps -a</code> to list all containers either running or stop<a hidden class=anchor aria-hidden=true href=#docker-ps--a-to-list-all-containers-either-running-or-stop>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker ps -a
</span></span></code></pre></div><h3 id=docker-stop-name---stop-a-container><code>docker stop &lt;name></code> - stop a container<a hidden class=anchor aria-hidden=true href=#docker-stop-name---stop-a-container>#</a></h3><p>The container or we say the process is stopped. However, it&rsquo;s not removed. You can restart it by <code>docker restart &lt;container_name></code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker stop &lt;container_name&gt;
</span></span><span class=line><span class=cl>docker stop &lt;container_id&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// example
</span></span><span class=line><span class=cl>docker stop trusting_beaver
</span></span></code></pre></div><h3 id=docker-restart-name---restart-a-stopped-container><code>docker restart &lt;name></code> - restart a stopped container<a hidden class=anchor aria-hidden=true href=#docker-restart-name---restart-a-stopped-container>#</a></h3><p>There might be few containers that are stopped but not removed:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>derry@Man-x1 ~<span class=o>]</span>$ docker ps -a
</span></span><span class=line><span class=cl>CONTAINER ID   IMAGE                    COMMAND                  CREATED          STATUS                       PORTS                                                  NAMES
</span></span><span class=line><span class=cl>a5bd20f08edc   java-docker              <span class=s2>&#34;./mvnw spring-boot:…&#34;</span>   <span class=m>3</span> minutes ago    Up <span class=m>3</span> minutes                 0.0.0.0:8080-&gt;8080/tcp, :::8080-&gt;8080/tcp              nervous_snyder
</span></span><span class=line><span class=cl>ab55379adc06   java-docker              <span class=s2>&#34;./mvnw spring-boot:…&#34;</span>   <span class=m>5</span> minutes ago    Exited <span class=o>(</span>143<span class=o>)</span> <span class=m>3</span> minutes ago                                                          naughty_volhard
</span></span><span class=line><span class=cl>5820d5e693e2   java-docker              <span class=s2>&#34;./mvnw spring-boot:…&#34;</span>   <span class=m>7</span> minutes ago    Exited <span class=o>(</span>143<span class=o>)</span> <span class=m>5</span> minutes ago                                                          confident_feynman
</span></span><span class=line><span class=cl>c79d572de49a   java-docker              <span class=s2>&#34;./mvnw spring-boot:…&#34;</span>   <span class=m>10</span> minutes ago   Exited <span class=o>(</span>143<span class=o>)</span> <span class=m>7</span> minutes ago                                                          gifted_wiles
</span></span><span class=line><span class=cl>2a0736d59236   java-docker              <span class=s2>&#34;./mvnw spring-boot:…&#34;</span>   <span class=m>20</span> minutes ago   Exited <span class=o>(</span>1<span class=o>)</span> <span class=m>11</span> minutes ago                                                           quirky_dijkstra
</span></span><span class=line><span class=cl>834f35b8fe81   docker/getting-started   <span class=s2>&#34;/docker-entrypoint.…&#34;</span>   <span class=m>2</span> hours ago      Exited <span class=o>(</span>0<span class=o>)</span> <span class=m>2</span> hours ago                                                              clever_spence
</span></span><span class=line><span class=cl>7fbda5eef9b4   docker/getting-started   <span class=s2>&#34;/docker-entrypoint.…&#34;</span>   <span class=m>2</span> hours ago      Created                                                                             relaxed_poincar
</span></span></code></pre></div><p>restart it simply by:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker restart &lt;name&gt;
</span></span></code></pre></div><h3 id=remove-a-container---docker-rm>remove a container - <code>docker rm</code><a hidden class=anchor aria-hidden=true href=#remove-a-container---docker-rm>#</a></h3><p>to remove and free the memory</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker rm &lt;name&gt;
</span></span></code></pre></div><h2 id=execute-a-command-on-running-container-docker-exec>execute a command on running container <code>docker exec</code><a hidden class=anchor aria-hidden=true href=#execute-a-command-on-running-container-docker-exec>#</a></h2><p><code>docker exec &lt;NAMES> command</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// example
</span></span><span class=line><span class=cl>docker <span class=nb>exec</span> &lt;NAMES&gt; cat /etc/hosts
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// open the terminal of container, i - interactive, t - tty
</span></span><span class=line><span class=cl>docker <span class=nb>exec</span> -it &lt;name&gt; bash
</span></span></code></pre></div><h3 id=stdin---when-needs-input-for-the-task>STDIN - when needs input for the task<a hidden class=anchor aria-hidden=true href=#stdin---when-needs-input-for-the-task>#</a></h3><p>If we write a script that asks for user name and prints out the name:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>// run the script
</span></span><span class=line><span class=cl>Welcome! Enter your name: Derry
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// output
</span></span><span class=line><span class=cl>Hello Derry!
</span></span></code></pre></div><p>When we run the docker image, it won&rsquo;t ask for our input</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run &lt;imageName&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// output
</span></span><span class=line><span class=cl>Hello !
</span></span></code></pre></div><p>We have to add <code>-i</code> flag to make it interactive</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -i &lt;imageName&gt;
</span></span></code></pre></div><p>However, it won&rsquo;t show the terminal prompt, we have to add <code>-t</code> flag to add a terminal</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -it &lt;imageName&gt;
</span></span></code></pre></div><h2 id=supervise-the-container>supervise the container<a hidden class=anchor aria-hidden=true href=#supervise-the-container>#</a></h2><h3 id=container-info-in-json-docker-inspect>container info in json <code>docker inspect</code><a hidden class=anchor aria-hidden=true href=#container-info-in-json-docker-inspect>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker inspect &lt;name&gt;
</span></span></code></pre></div><p>Output sample:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Id&#34;</span><span class=p>:</span> <span class=s2>&#34;952899189ac4ab6fab4ddcc057884a0dde4665c338f01326e438c5e1039686ca&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Created&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-12-28T15:12:07.480095938Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Path&#34;</span><span class=p>:</span> <span class=s2>&#34;/bin/sh&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Args&#34;</span><span class=p>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;State&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Status&#34;</span><span class=p>:</span> <span class=s2>&#34;running&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Running&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Paused&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Restarting&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;OOMKilled&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Dead&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Pid&#34;</span><span class=p>:</span> <span class=mi>267801</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;ExitCode&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Error&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;StartedAt&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-12-28T15:12:08.008346283Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;FinishedAt&#34;</span><span class=p>:</span> <span class=s2>&#34;0001-01-01T00:00:00Z&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Image&#34;</span><span class=p>:</span> <span class=s2>&#34;sha256:d7d3d98c851ff3a95dbcb70ce09d186c9aaf7e25d48d55c0f99aae360aecfd53&#34;</span><span class=p>,</span>
</span></span></code></pre></div><h3 id=log>log<a hidden class=anchor aria-hidden=true href=#log>#</a></h3><p><code>docker logs &lt;container_name></code></p><ul><li><code>-f</code> flag for following</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker logs -f my-container
</span></span></code></pre></div><h3 id=history>history<a hidden class=anchor aria-hidden=true href=#history>#</a></h3><p>Sees the history of a specify docker Dockerfile layer</p><pre tabindex=0><code>docker history &lt;imageName&gt;
</code></pre><h1 id=volume---data-persistent>volume - data persistent<a hidden class=anchor aria-hidden=true href=#volume---data-persistent>#</a></h1><h2 id=create-volume-by-docker-run--v>Create volume by <code>docker run -v</code><a hidden class=anchor aria-hidden=true href=#create-volume-by-docker-run--v>#</a></h2><p>If you want data persistent even after you destroy the image/container, use <code>volume</code></p><p><code>docker run -v &lt;pathInHost>:&lt;pathInContainer> &lt;imageName></code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -v /home/derry/playground:/storage alpine
</span></span></code></pre></div><p>This will result in creating a directory in container root: <code>/storage</code>. It links to host directory <code>/home/derry/playground</code>. You can find the files from host in container as well.</p><h2 id=search-for-volume-location>Search for volume location<a hidden class=anchor aria-hidden=true href=#search-for-volume-location>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -v /home/derry/playground:/storage alpine
</span></span></code></pre></div><p>This will create a directory in container root named <code>storage</code>. To find the directory in host OS, use this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker inspect -f <span class=s1>&#39;{{.Mounts}}&#39;</span> &lt;containerId&gt;
</span></span></code></pre></div><p>This will give a path to the volume directory. Usually at <code>/var/lib/docker/volumes/</code></p><h3 id=create-by-docker-volume>Create by <code>docker volume</code><a hidden class=anchor aria-hidden=true href=#create-by-docker-volume>#</a></h3><p><code>Usage: docker volume COMMAND</code></p><pre tabindex=0><code>docker volume create data_volume
docker run -v data_volume:&lt;data_path&gt; &lt;imageName&gt;
</code></pre><p>Prefer style instead of <code>-v</code></p><pre tabindex=0><code>docker run --mount type=bind,source=/data/mysql,target=&lt;data_path&gt; &lt;imageName&gt;
</code></pre><h3 id=by-dockerfile>By <code>Dockerfile</code><a hidden class=anchor aria-hidden=true href=#by-dockerfile>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>FROM ubuntu
</span></span><span class=line><span class=cl>RUN mkdir /myvol
</span></span><span class=line><span class=cl>RUN <span class=nb>echo</span> <span class=s2>&#34;hello world&#34;</span> &gt; /myvol/greeting
</span></span><span class=line><span class=cl>VOLUME /myvol
</span></span></code></pre></div><p>This <code>Dockerfile</code> once build, it will use ubuntu image and create a directory at root<code>/myvol</code>. In the /myvol, create a file <code>greeting</code> with <code>hello world</code> text. The <code>VOLUME /myvol</code> means the directory in container will persist. To find where the data is saved, go to host OS and find it by:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker inspect -f <span class=s1>&#39;{{.Mounts}}&#39;</span> &lt;containerId&gt;
</span></span></code></pre></div><h1 id=dockerfile>Dockerfile<a hidden class=anchor aria-hidden=true href=#dockerfile>#</a></h1><p><em>Blueprint to create an image. That&rsquo;s it.</em></p><blockquote><p>A Dockerfile is a text document that contains the instructions to assemble a Docker image. When we tell Docker to build our image by executing the <code>docker build</code> command, Docker reads these instructions, executes them, and creates a Docker image as a result.</p></blockquote><ul><li><code>FROM</code> - set base image</li><li><code>RUN</code> - execute the command in <strong>building image process.</strong></li><li><code>ENV</code> - set environment variable</li><li><code>WORKDIR</code> - set working directory, like <code>cd</code>. If the directory doesn&rsquo;t exist, it will be created.</li><li><code>VOLUME</code> - create mount-point for a volume</li><li><code>CMD</code> - set executable for container</li><li><code>COPY</code> - copy file from host to guest location <code>COPY source destination</code></li><li><code>EXPOSE</code> - specify the container port</li></ul><h2 id=create-a-dockerfile>Create a Dockerfile<a hidden class=anchor aria-hidden=true href=#create-a-dockerfile>#</a></h2><p>At root of your project, create a file named <code>Dockerfile</code>.</p><pre tabindex=0><code># syntax=docker/dockerfile:1

FROM eclipse-temurin:17-jdk-jammy

WORKDIR /app

COPY .mvn/ .mvn
COPY mvnw pom.xml ./
RUN ./mvnw dependency:resolve

COPY src ./src

CMD [&#34;./mvnw&#34;, &#34;spring-boot:run&#34;]
</code></pre><h2 id=build-the-image>Build the image<a hidden class=anchor aria-hidden=true href=#build-the-image>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker build . --tag &lt;imageName&gt;
</span></span></code></pre></div><h3 id=dockerfile-commands>Dockerfile Commands<a hidden class=anchor aria-hidden=true href=#dockerfile-commands>#</a></h3><h4 id=entrypoint><code>ENTRYPOINT</code><a hidden class=anchor aria-hidden=true href=#entrypoint>#</a></h4><blockquote><p>It specifies a command that will always be executed when the container starts. It works like Linux <em>alias</em>. Always prefix to your input.</p></blockquote><p>For example, when <code>docker run -it ubuntu</code>, it starts the ubuntu and <strong>gives you the shell prompt.</strong> Why it gives you the shell prompt? Because it specifies the <code>ENTRYPOINT ["/bin/bash"]</code>.</p><hr><p>The exec form, passing json array, is the preferred form:</p><pre tabindex=0><code>ENTRYPOINT [&#34;executable&#34;, &#34;param1&#34;, &#34;param2&#34;]
</code></pre><h5 id=example>Example<a hidden class=anchor aria-hidden=true href=#example>#</a></h5><p>For example, this image always <code>ls</code> directory or file. Let&rsquo;s name it <code>listing_container</code></p><pre tabindex=0><code>FROM alpine
ENTRYPOINT [&#34;/bin/ls&#34;, &#34;-la&#34;]
</code></pre><p>Let&rsquo;s initialize it, and pass argument to it. Remember the <code>docker run</code>:</p><p><code>Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</code></p><pre tabindex=0><code>$ docker run -i -t listing_container /srv

# this will be combined to command: &#34;/bin/ls -la /srv&#34;
# like you run the following command in the container

$ ls -la /srv
total 16
drwxr-xr-x  4 root  root  4096 11月 25  2021 .
drwxr-xr-x 17 root  root  4096 11月  7 10:14 ..
dr-xr-xr-x  2 root  ftp   4096 10月 16  2021 ftp
drwxr-xr-x 12 derry derry 4096  7月 16 14:55 http
</code></pre><p>So it&rsquo;s shorthand! You can build some containers for specific uses.</p><p>If you want to change the default behaviour:</p><pre tabindex=0><code># this will run &#34;cat /etc/passwd&#34;
$ docker run --it --entrypoint=&#34;/bin/cat&#34; ubuntu /etc/passwd
</code></pre><h4 id=cmd><code>CMD</code><a hidden class=anchor aria-hidden=true href=#cmd>#</a></h4><p>There are 3 forms but this form, pass json array, is preferred:
<code>CMD ["exectable", "param1", "param2"]</code></p><pre tabindex=0><code>CMD [&#34;java&#34;, &#34;-jar&#34;, &#34;app.jar&#34;]
</code></pre><h5 id=work-as-default-behaviour>Work as default behaviour<a hidden class=anchor aria-hidden=true href=#work-as-default-behaviour>#</a></h5><p>A Dockerfile:</p><pre tabindex=0><code>FROM alpine
CMD [&#34;/bin/ping&#34;, &#34;www.google.com&#34;]
</code></pre><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker build . -t ping_machine
</span></span><span class=line><span class=cl>docker run -it ping_machine
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># you get:</span>
</span></span><span class=line><span class=cl>PING www.google.com<span class=o>(</span>...omit...<span class=o>)</span> <span class=m>56</span> data bytes
</span></span><span class=line><span class=cl><span class=m>64</span> bytes from <span class=o>(</span>...omit...<span class=o>)</span> <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>119</span> <span class=nv>time</span><span class=o>=</span>22.3 ms
</span></span><span class=line><span class=cl><span class=m>64</span> bytes from <span class=o>(</span>...omit...<span class=o>)</span> <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>119</span> <span class=nv>time</span><span class=o>=</span>20.3 ms
</span></span></code></pre></div><p>When run this container, it will start to ping the <em><a href=https://www.google.com>www.google.com</a></em>.</p><h5 id=work-as-arguments-for-entrypoint>Work as arguments for ENTRYPOINT<a hidden class=anchor aria-hidden=true href=#work-as-arguments-for-entrypoint>#</a></h5><blockquote><p>It specifies arguments that will be fed to the <code>ENTRYPOINT</code></p></blockquote><pre tabindex=0><code>FROM alpine
ENTRYPOINT [&#34;/bin/ping&#34;]
CMD [&#34;localhost&#34;]
</code></pre><p>Running the image, you will ping the <em>localhost</em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker build . --tag ping_container
</span></span><span class=line><span class=cl>docker run -it ping_container
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># you get</span>
</span></span><span class=line><span class=cl>PING localhost <span class=o>(</span>127.0.0.1<span class=o>)</span>: <span class=m>48</span> data bytes
</span></span><span class=line><span class=cl><span class=m>56</span> bytes from 127.0.0.1: <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>0</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>64</span> <span class=nv>time</span><span class=o>=</span>0.096 ms
</span></span><span class=line><span class=cl><span class=m>56</span> bytes from 127.0.0.1: <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>1</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>64</span> <span class=nv>time</span><span class=o>=</span>0.088 ms
</span></span><span class=line><span class=cl><span class=m>56</span> bytes from 127.0.0.1: <span class=nv>icmp_seq</span><span class=o>=</span><span class=m>2</span> <span class=nv>ttl</span><span class=o>=</span><span class=m>64</span> <span class=nv>time</span><span class=o>=</span>0.088 ms
</span></span></code></pre></div><p>You can change the this default image behaviour by:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>                             It is the argument passed to replace <span class=o>[</span><span class=s2>&#34;localhost&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>                                  vvvvvv
</span></span><span class=line><span class=cl>docker run -it ping_container www.google.com
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://derry.club/tags/linux/>linux</a></li><li><a href=https://derry.club/tags/command/>command</a></li><li><a href=https://derry.club/tags/docker/>docker</a></li><li><a href=https://derry.club/tags/docker-compose/>docker compose</a></li><li><a href=https://derry.club/tags/development/>development</a></li><li><a href=https://derry.club/tags/container/>container</a></li><li><a href=https://derry.club/tags/network/>network</a></li><li><a href=https://derry.club/tags/java/>java</a></li><li><a href=https://derry.club/tags/web/>web</a></li><li><a href=https://derry.club/tags/server/>server</a></li></ul><nav class=paginav><a class=next href=https://derry.club/posts/java/spring-boot-controller-service-repository/><span class=title>Next »</span><br><span>Spring Boot Controller Service Repository</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Docker Cheat sheet, a general cheat sheet for all use case on twitter" href="https://twitter.com/intent/tweet/?text=Docker%20Cheat%20sheet%2c%20a%20general%20cheat%20sheet%20for%20all%20use%20case&url=https%3a%2f%2fderry.club%2fposts%2fdocker-cheatsheet%2f&hashtags=linux%2ccommand%2cdocker%2cdockercompose%2cdevelopment%2ccontainer%2cnetwork%2cjava%2cweb%2cserver"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker Cheat sheet, a general cheat sheet for all use case on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fderry.club%2fposts%2fdocker-cheatsheet%2f&title=Docker%20Cheat%20sheet%2c%20a%20general%20cheat%20sheet%20for%20all%20use%20case&summary=Docker%20Cheat%20sheet%2c%20a%20general%20cheat%20sheet%20for%20all%20use%20case&source=https%3a%2f%2fderry.club%2fposts%2fdocker-cheatsheet%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker Cheat sheet, a general cheat sheet for all use case on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fderry.club%2fposts%2fdocker-cheatsheet%2f&title=Docker%20Cheat%20sheet%2c%20a%20general%20cheat%20sheet%20for%20all%20use%20case"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker Cheat sheet, a general cheat sheet for all use case on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fderry.club%2fposts%2fdocker-cheatsheet%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker Cheat sheet, a general cheat sheet for all use case on whatsapp" href="https://api.whatsapp.com/send?text=Docker%20Cheat%20sheet%2c%20a%20general%20cheat%20sheet%20for%20all%20use%20case%20-%20https%3a%2f%2fderry.club%2fposts%2fdocker-cheatsheet%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker Cheat sheet, a general cheat sheet for all use case on telegram" href="https://telegram.me/share/url?text=Docker%20Cheat%20sheet%2c%20a%20general%20cheat%20sheet%20for%20all%20use%20case&url=https%3a%2f%2fderry.club%2fposts%2fdocker-cheatsheet%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Docker Cheat sheet, a general cheat sheet for all use case on ycombinator" href="https://news.ycombinator.com/submitlink?t=Docker%20Cheat%20sheet%2c%20a%20general%20cheat%20sheet%20for%20all%20use%20case&u=https%3a%2f%2fderry.club%2fposts%2fdocker-cheatsheet%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://derry.club/>Derry Dev Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>